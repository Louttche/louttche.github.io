{% if image_list != empty %}
  {% assign image_count = image_list | size %}
  <div class="glide compact">
    <div class="glide__track-container">
      <div class="glide__track" data-glide-el="track">
        <ul class="glide__slides">
          {% for image in image_list %}
            <li class="glide__slide">
              <img src="{{ site.baseurl }}{{ image.path }}" />
            </li>
          {% endfor %}
        </ul>
      </div>
      <div class="glide__arrows" data-glide-el="controls">
        <button class="glide__arrow glide__arrow--left btn" data-glide-dir="<">❮</button>

        <div style="display: flex; flex-direction: column;">
          {% assign image_caption = image_list[0].basename | replace: '_', ' ' | capitalize %}
          <div class="image-caption" style="text-align: center;">{{image_caption}}</div>

          <div class="glide__bullets" data-glide-el="controls[nav]">
            {% for image_index in (1..image_count) %}
              <button class="glide__bullet" data-glide-dir="={{ image_index | minus: 1 }}"></button>
            {% endfor %}
          </div>
        </div>
        
        <button class="glide__arrow glide__arrow--right btn" data-glide-dir=">">❯</button>
      </div>
    </div>
  </div>
{% endif %}
<script src="/assets/js/image_carousel.js"></script>
