{% assign slide_count = site.projects | size %}
{% assign sorted_projects = site.projects | sort: "start_date" | reverse %}

<div class="glide">
  <div class="glide__track-container">
    <div class="glide__track" data-glide-el="track">
      <ul class="glide__slides">
        {% for project in sorted_projects %}
          <li class="glide__slide">{% include project_card.html %}</li>
        {% endfor %}
      </ul>
    </div>
    <div class="glide__arrows slides-navigation" data-glide-el="controls">
      <button class="glide__arrow glide__arrow--left" data-glide-dir="<">❮</button>
      <div class="glide__bullets" data-glide-el="controls[nav]">
        {% for slide_index in (1..slide_count) %}
          <button class="glide__bullet" data-glide-dir="={{ slide_index | minus: 1 }}"></button>
        {% endfor %}
      </div>
      <button class="glide__arrow glide__arrow--right" data-glide-dir=">">❯</button>
    </div>
  </div>
</div>
<script src="/assets/js/card_carousel.js"></script>
